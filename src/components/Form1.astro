---
import "../styles/form.css"
---
        <div class="container-form" id="container">
            <form action="">
                
                <div class="blocks" id="blocks">
                    <!----------------Intrucciones -->
                    <div class="block" id="instrucciones">
                        <div class='title-question'>
                            
                            <h1 id="question">Skin Test</h1>
                            
                        </div>
                        <p>Test diseñado para ayudarte a determinar que tipo de piel podrías tener.</p>
                        
                        <p><p>Responde a cada pregunta según lo que mejor describa tu experiencia.</p><h3>Recomendaciones:</h3></p> 
                        <ul>
                            <li>Antes de iniciar el test lava tu rostro con un limpiador suave o agua.</li>
                            <li>Deja que tu piel se seque al aire sin aplicar ningún producto.</li>
                            
                        </ul>
                        <div class="alert-div">
                            <div class="alert"></div>
                            
                        </div>
                        <p><strong>La informacion contenida en este test no pretende sustitur el consejo de un profesional sanitario</strong></p>
                        <div class="button-solo">
                            <button class="comenzar" id="comenzar">Comenzar</button>
                        </div>
                    </div>
                    <!----------------end-instrucciones -->

                    <!----------------bloque1 -->
                    <div class="block" id="block1">
                        <div class='title-question'>
                            <h1 id="question">¿Cómo se siente tu piel después de limpiarla?</h1>
                        </div>
                        <div class='options'>
                            <div class="option-input">
                                <label for="Aoption1"><input id="Aoption1" name="1option" type="radio"  class="option1" value="1"  required>Cómoda y sin tirantez </label>
                            </div>
                
                            <div class="option-input">
                                <label for="Aoption2"><input id="Aoption2" name="1option" type="radio" class="option2" value="1" required>Tirante y seca</label>
                            </div>
                
                            <div class="option-input">
                                <label for="Aoption3"><input id="Aoption3" name="1option" type="radio" class="option3" value="1" required>Ligeramente tirante en algunas áreas</label>
                            </div>

                            <div class="option-input">
                                <label for="Aoption4"><input id="Aoption4" name="1option" type="radio" class="option4" value="1" required>Comoda pero con sensación grasa</label>
                            </div>
                        </div>
                        <div class="button-duo">
                            <button class="anterior" id="anterior">Anterior</button>
                            <button class="siguiente" id="siguiente">Siguiente</button>
                        </div>
                    </div>
                <!----------------end-bloque1 -->
                <!----------------bloque2 -->
                <div class="block" id="block2">
                    <div class='title-question'>
                        <h1 id="question">¿Cual es el nivel de hidratación de tu piel?</h1>
                    </div>
                    <div class='options'>
                        <div class="option-input">
                            <label for="Boption1"><input id="Boption1" name="2option" type="radio"  class="option1" value="75">Piel equilibrada, sin brillo excesivo</label>
                        </div>
            
                        <div class="option-input">
                            <label for="Boption2"><input id="Boption2" name="2option" type="radio" class="option2" value="150">Sin brillo y opaca</label>
                        </div>
            
                        <div class="option-input">
                            <label for="Boption3"><input id="Boption3" name="2option" type="radio" class="option3"  value="250">Zona "T" brillante y el resto del rostro seco/normal</label>
                        </div>

                        <div class="option-input">
                            <label for="Boption4"><input id="Boption4" name="2option" type="radio" class="option3"  value="350">Rostro con brillo excesivo</label>
                        </div>
                    </div>
                    <div class="button-duo">
                        <button class="anterior" id="anterior">Anterior</button>
                        <button class="siguiente" id="siguiente">Siguiente</button>
                    </div>
                </div>
                <!----------------end-bloque2 -->

                <!----------------bloque3 -->
                <div class="block" id="block3">
                    <div class='title-question'>
                        <h1 id="question">¿Cuál es la tendencia de tu piel en cuanto a imperfecciones?</h1>
                    </div>
                    <div class='options'>
                        <div class="option-input">
                            <label for="Coption1"><input id="Coption1" name="3option" type="radio"  class="option1" value="1">Rara vez imperfecciones, poros pequeños</label>
                        </div>

                        <div class="option-input">
                            <label for="Coption2"><input id="Coption2" name="3option" type="radio"  class="option1" value="1">Pocas imperfecciones, poros pequeños</label>
                        </div>
            
                        <div class="option-input">
                            <label for="Coption3"><input id="Coption3" name="3option" type="radio" class="option2" value="1">Imperfecciones ocasionales, poros medianos</label>
                        </div>
            
                        <div class="option-input">
                            <label for="Coption4"><input id="Coption4" name="3option" type="radio" class="option3"  value="1">Imperfecciones frecuentes, poros grandes</label>
                        </div>
                    </div>
                    <div class="button-duo">
                        <button class="anterior" id="anterior">Anterior</button>
                        <button class="siguiente" id="siguiente">Siguiente</button>
                    </div>
                </div>
                <!----------------end-bloque3 -->

                <!----------------bloque4 -->
                <div class="block" id="block4">
                    <div class='title-question'>
                        <h1 id="question">¿Cómo se siente tu piel al final del día?</h1>
                    </div>
                        <div class='options'>
                        <div class="option-input">
                            <label for="Doption1"><input id="Doption1" name="4option" type="radio"  class="option1" value="1">Fresca y cómoda</label>
                        </div>

                        <div class="option-input">
                            <label for="Doption2"><input id="Doption2" name="4option" type="radio" class="option2" value="1">Seca e incomoda</label>
                        </div>
            
                        <div class="option-input">
                            <label for="Doption3"><input id="Doption3" name="4option" type="radio" class="option2" value="1">Algunas áreas grasas, pero en su mayoría cómoda</label>
                        </div>
                        
                        <div class="option-input">
                            <label for="Doption4"><input id="Doption4" name="4option" type="radio" class="option3"  value="1">Grasa y pesada</label>
                        </div>
                    </div>
                    <div class="button-duo">
                        <button class="anterior" id="anterior">Anterior</button>
                        <button class="siguiente" id="siguiente">Siguiente</button>
                    </div>
                </div>
                
                <!----------------end-bloque4 -->

                <!----------------bloque5 -->
                <div class="block" id="block5">
                    <div class='title-question'>
                        <h1 id="question">¿Cómo responde tu piel a productos de cuidado de la piel nuevos?</h1>
                    </div>
                    <div class='options'>
                        <div class="option-input">
                            <label for="Eoption1"><input id="Eoption1" name="5option" type="radio"  class="option1" value="1">Rara vez causan irritación </label>
                        </div>

                        <div class="option-input">
                            <label for="Eoption2"><input id="Eoption2" name="5option" type="radio"  class="option1" value="1">Casi siempre causan irritación</label>
                        </div>
            
                        
                    </div>
                    <div class="button-duo">
                        <button class="anterior" id="anterior">Anterior</button>
                        <button class="siguiente" id="siguiente">Siguiente</button>
                    </div>
                </div>
                
                <!----------------end-bloque5-->
                
                <!----------------bloque6-->
                <div class="block" id="block6">
                    <div class='title-question'>
                        <h1 id="question">¿Presentas algún problema especifico de la piel?</h1>
                    </div>
                        <div class='options'>
                        <div class="option-input">
                            <label for="Foption1"><input id="Foption1" name="6option" type="radio"  class="option1" value="1000">Sin problemas en la piel</label>
                        </div>
            
                        <div class="option-input">
                            <label for="Foption2"><input id="Foption2" name="6option" type="radio" class="option2" value="3000">Problemas como: acné, rosácea, dermatitis atópica, dermatitis seborreica, etc</label>
                        </div>
            
                    </div>
                    <div class="button-duo">
                        <button class="anterior" id="anterior">Anterior</button>
                        <button class="siguiente" id="siguiente">Siguiente</button>
                    </div>
                </div>
                <!----------------end-bloque6-->
                
                <!----------------bloque7-->
                <div class="block" id="block7">
                    <div class='title-question'>
                        <h1 id="question">¿Cómo reacciona tu piel a cambios en las estaciones?</h1>
                    </div>
                        <div class='options'>
                        <div class="option-input">
                            <label for="Goption1"><input id="Goption1" name="7option" type="radio"  class="option1" value="1">Se adapta bien a todos los cambios</label>
                        </div>
            
                        <div class="option-input">
                            <label for="Goption2"><input id="Goption2" name="7option" type="radio" class="option2" value="1">No se adapta bien a todos los cambios</label>
                        </div>
            
                        
                    </div>
                    <div class="button-duo">
                        <button class="anterior" id="anterior">Anterior</button>
                        <button class="siguiente" id="siguiente">Siguiente</button>
                    </div>
                </div>
                <!----------------end-bloque7-->

                <!----------------bloque8-->
                <div class="block" id="block8">
                    <div class='title-question'>
                        <h1 id="question">¿Cómo describes la sensibilidad de tu piel?</h1>
                    </div>
                        <div class='options'>
                        <div class="option-input">
                            <label for="Hoption1"><input id="Hoption1" name="8option" type="radio"  class="option1" value="1">Piel resistente y raramente sensible</label>
                        </div>
            
                        <div class="option-input">
                            <label for="Hoption2"><input id="Hoption2" name="8option" type="radio" class="option3"  value="1">Piel sensible, reacciona fácilmente</label>
                        </div>
                    </div>
                    <div class="button-duo">
                        <button class="anterior" id="anterior">Anterior</button>
                        <button type="submit" class="enviar" id="enviar" name="enviar">Enviar</button>
                    </div>
                </div>
                <!-------mensaje final -->
                <div class="msj-container" id="msj-container">
                <div class="result">
                <div class="msj-prev" id='msj-prev'> <h1>mensaje previo</h1>
                </div>
                <div class="output" id="output"><h1>resultado</h1></div>
                </div>
                <div class="description" id="description"><p>La piel grasa se caracteriza por tener una apariencia brillosa, mayor 
                produccion de sebo, presencia de comedones, poros dilatados y puede favorecer al apracimiento de acne.</p></div>
                <div class="btn-again" id="btnAgain">               
                    <a class="link" href="#asesory">Si tienes alguna duda, agenda una asesoria personalizada</a>                  
                    <a class="link" href="">Comenzar un nuevo test</a>
                </div>
                </div>
                <!--------end mensaje final -->
                </div>
            </form>
        </div>
        
<script>
    const bloques = document.getElementById('blocks');
    const output = document.getElementById('output')
    const msjPrev = document.getElementById('msj-prev')
    let contador = 0;
    let list = document.querySelectorAll("input[name]:checked");


    //funcion para seguir
    document.addEventListener('DOMContentLoaded', function() {
    let botones = document.querySelectorAll('.siguiente');
    botones.forEach(function(boton) {
    boton.addEventListener('click', function(e) {
    e.preventDefault();
    const bloqueActual = document.querySelector('.block.show');
    const radioButtons = bloqueActual.querySelectorAll('input[name]:checked');
    
        if (radioButtons.length == 0) {
            alert("Selecciona una opcion!");
        }else {
            const posicionActual = parseInt(bloques.style.left) || 0;
            const nuevaPosicion = posicionActual - 389;
            bloques.style.left = nuevaPosicion + 'px';
            
        }
            });
        });
    });
    /////////////////////

    //---------------boton comenzar------------------//
        const comenzar = document.getElementById('comenzar'); 
        comenzar.addEventListener('click',function(e){
        e.preventDefault();
        const posicionActual = parseInt(bloques.style.left) || 0;
        const nuevaPosicion = posicionActual - 391;
        bloques.style.left = nuevaPosicion + 'px';
        console.log(nuevaPosicion + 'comenzar');
    })
    ////////////////////////////////////////////////////
    //funcion anterior
    document.addEventListener('DOMContentLoaded', function() {
    // Obtén todos los elementos con la clase 'boton-comun'
    let botones = document.querySelectorAll('.anterior');
    // Agrega un evento click a cada botón
    botones.forEach(function(boton) {
    boton.addEventListener('click', function(e) {
    e.preventDefault();
    // Aquí puedes colocar la lógica que deseas ejecutar al hacer clic en un botón
    const posicionActual = parseInt(bloques.style.left) || 0;
    const nuevaPosicion = posicionActual + 391;
    bloques.style.left = nuevaPosicion + 'px';
    console.log(nuevaPosicion + 'anterior');
            });
        });
    });


//------------INTERSECTION OBSERVER---------------------//
const blocks = document.querySelectorAll(".block")
const observer = new IntersectionObserver(entries=>{
    entries.forEach(entry =>{
        entry.target.classList.toggle("show", entry.isIntersecting)
                    
    })
        },
        {
            threshold:0.5,
        })
        blocks.forEach(block=>{
            observer.observe(block);
        })

//---------score+-----------------------//
for (let item of list){
    const itemhtml = item as HTMLInputElement
    console.log(itemhtml)
        if(list){
        contador + itemhtml.value
    }
    output.textContent = `Contador: ${contador}`;
}

let botonEnviar = document.getElementById('enviar');
const msjContainer = document.getElementById('msj-container')
const block8 = document.getElementById('block8')
    botonEnviar.addEventListener('click', function(e) {
        e.preventDefault();
        msjContainer.className = 'msj-container-izq'
        block8.className = 'block8-secret'
        let list = document.querySelectorAll("input[name]:checked");
        for(let item of list){
            const itemhtml = item as HTMLInputElement
            if(itemhtml){
                let newContador = contador += parseInt(itemhtml.value)
                score(newContador);
                
            }
        }
    });
//--------------------------------------//
//enable buttons

let option1 = document.getElementsByName('1option')
let next1 = document.querySelectorAll('.siguiente')[0]
for(let i = 0; i< option1.length;i ++){
    let nodo = option1[i]
    nodo.addEventListener('click', function(){
        next1.className = 'enable'
    })
}

let option2 = document.getElementsByName('2option')
let next2 = document.querySelectorAll('.siguiente')[1]
for(let i = 0; i< option2.length;i ++){
    let nodo = option2[i]
    nodo.addEventListener('click', function(){
        next2.className = 'enable'
    })
}

let option3 = document.getElementsByName('3option')
let next3 = document.querySelectorAll('.siguiente')[2]
for(let i = 0; i< option3.length;i ++){
    let nodo = option3[i]
    nodo.addEventListener('click', function(){
        next3.className = 'enable'
    })
}

let option4 = document.getElementsByName('4option')
let next4 = document.querySelectorAll('.siguiente')[3]
for(let i = 0; i< option4.length;i ++){
    let nodo = option4[i]
    nodo.addEventListener('click', function(){
        next4.className = 'enable'
    })
}

let option5 = document.getElementsByName('5option')
let next5 = document.querySelectorAll('.siguiente')[4]
for(let i = 0; i< option5.length;i ++){
    let nodo = option5[i]
    nodo.addEventListener('click', function(){
        next5.className = 'enable'
    })
}

let option6 = document.getElementsByName('6option')
let next6 = document.querySelectorAll('.siguiente')[5]
for(let i = 0; i< option6.length;i ++){
    let nodo = option6[i]
    nodo.addEventListener('click', function(){
        next6.className = 'enable'
    })
}

let option7 = document.getElementsByName('7option')
let next7 = document.querySelectorAll('.siguiente')[6]
for(let i = 0; i< option7.length;i ++){
    let nodo = option7[i]
    nodo.addEventListener('click', function(){
        next7.className = 'enable'
    })
}

let option8 = document.getElementsByName('8option')
let next8 = document.querySelectorAll('.enviar')[0]
for(let i = 0; i< option8.length;i ++){
    let nodo = option8[i]
    nodo.addEventListener('click', function(){
        next8.className = 'enable'
    })
}
///////////////

//---------scrore-----------------------//

function score(num){
    const description = document.getElementById('description');
    

    const mensajes = {
    insuficiente: { texto: 'Insuficiente' },
    normal: { texto: 'Normal', resistencia: 'Resistente', sensibilidad: 'Sensible' },
    seca: { texto: 'Seca', resistencia: 'Resistente', sensibilidad: 'Sensible' },
    mixta: { texto: 'Mixta', resistencia: 'Resistente', sensibilidad: 'Sensible' },
    grasa: { texto: 'Grasa', resistencia: 'Resistente', sensibilidad: 'Sensible'},
    
    valorNoPosible: { texto: 'Valor no posible' }
    };
    
    if (num === 0 || num < 10) {
        output.innerHTML = `${mensajes.insuficiente.texto}`;
    } else if (num >= 1050 && num <= 1100) {
        msjPrev.innerHTML = `<h2>Tu tipo de piel es: <h2/> `
        output.innerHTML = `<h1>${mensajes.normal.texto}<h1/>` 
        description.innerHTML = `<span>La piel normal se caracteriza por ser lisa, sedosa y sin exceso de brillo, 
        hidratada y sin poros dilatados, equilibro en la produccion del sebo.</span> `;
    } else if (num >= 1101 && num <= 1200) {
        msjPrev.innerHTML = `<h2>Tu tipo de piel es: <h2/> `
        output.innerHTML = `<h1>${mensajes.seca.texto} ${mensajes.seca.resistencia}<h1/>` 
        description.innerHTML = `<span>La piel seca se caracteriza por una ser tirante,sin brillo,opaca, tener poca produccion 
            de sebo, es propensa a la aparicion de pequenas arrugas; puede ser sensible y fina.
            Las pieles resistentes tienen la última capa de la piel más fuerte, lo cual otorga protección a las células cutáneas, impidiendo la penetración de alergenos y 
            otras sustancias irritantes, rara vez desarrollan acné y/o eritema.La mayoría de veces  pueden utilizar cualquier tipo de producto para el cuidado de la piel</span> `;
        //output.innerHTML = `<span class="${mensajes.mixta.clase}">Esta opción es:</span> ${mensajes.mixta.texto}`;
    } else if (num >= 1201 && num <= 1300) {
        msjPrev.innerHTML = `<h2>Tu tipo de piel es: <h2/> `
        output.innerHTML = `<h1>${mensajes.mixta.texto}  ${mensajes.mixta.resistencia}<h1/>` 
        description.innerHTML = `<span>La piel mixta se caracteriza por tener una zona T (frente,nariz y menton) 
            con una apriencia oleosa/brillante y con poros dilatados mientras que otras areas del rostro son secas.
            Las pieles resistentes tienen la última capa de la piel más fuerte, lo cual otorga protección a las células cutáneas, 
            impidiendo la penetración de alergenos y otras sustancias irritantes, rara vez desarrollan acné y/o eritema.
            La mayoría de veces  pueden utilizar cualquier tipo de producto para el cuidado de la piel</span> `;
        //output.innerHTML = `<span>Esta opción es:</span> <strong>${mensajes.grasa.texto}<strong/>`;
    } else if (num >= 1301 && num <= 1400) {
        msjPrev.innerHTML = `<h2>Tu tipo de piel es: <h2/> `
        output.innerHTML = `<h1>${mensajes.grasa.texto} ${mensajes.grasa.resistencia}<h1/>` 
        description.innerHTML = `<span>La piel grasa se caracteriza por tener una apariencia brillosa, mayor 
            produccion de sebo, presencia de comedones, poros dilatados y puede favorecer la aparicion de acne.
            Las pieles resistentes tienen la última capa de la piel más fuerte, lo cual otorga protección a las células cutáneas, 
            impidiendo la penetración de alergenos y otras sustancias irritantes, rara vez desarrollan acné y/o eritema.
            La mayoría de veces  pueden utilizar cualquier tipo de producto para el cuidado de la piel.</span> `;
        //output.innerHTML = `<span class="${mensajes.seca.clase}">Esta opción es:</span> ${mensajes.seca.texto}`;
    } else if (num >= 3050 && num <= 3100) {
        msjPrev.innerHTML = `<h2>Tu tipo de piel es: <h2/> `
        output.innerHTML = `<h1>${mensajes.normal.sensibilidad}<h1/>` 
        description.innerHTML = `<span>Las pieles sensibles o reactivas , reaccionan distinto a una piel normal , suelen ser más propensas a la 
            inflamación y pueden presentar ardor , enrojecimiento, picazón, tirantez entre otros, las causas de la inflamación depende de cada persona ;  
            cualquier tipo de piel ya sea grasa ,seca o  mixta pueden volverse una piel sensible.</span>`;
        //output.innerHTML = `<span class="${mensajes.sensible.clase}">Esta opción es:</span> ${mensajes.sensible.texto}`;
    }else if(num>= 3101 && num <= 3200){
        msjPrev.innerHTML = `<h2>Tu tipo de piel es: <h2/> `
        output.innerHTML = `<h1>${mensajes.seca.texto} ${mensajes.seca.sensibilidad}<h1/>` 
        description.innerHTML = `<span>La piel seca se caracteriza por una ser tirante,sin brillo,opaca, tener poca produccion 
            de sebo, es propensa a la aparicion de pequenas arrugas; puede ser sensible y fina.
            Las pieles sensibles o reactivas , reaccionan distinto a una piel normal , suelen ser más propensas a la inflamación y pueden presentar ardor , 
            cualquier tipo de piel ya sea grasa ,seca o  mixta pueden volverse una piel sensible.</span>`;
    }else if(num >= 3201 && num <= 3300){
        msjPrev.innerHTML = `<h2>Tu tipo de piel es: <h2/> `
        output.innerHTML = `<h1>${mensajes.mixta.texto} ${mensajes.mixta.sensibilidad}<h1/>` 
        description.innerHTML = `<span>La piel mixta se caracteriza por tener una zona T (frente,nariz y menton) 
            con una apriencia oleosa/brillante y con poros dilatados mientras que otras areas del rostro son secas.
            Las pieles sensibles o reactivas , reaccionan distinto a una piel normal , suelen ser más propensas a la inflamación y pueden presentar ardor , 
            enrojecimiento, picazón, tirantez entre otros, las causas de la inflamación depende de cada persona ;  
            cualquier tipo de piel ya sea grasa ,seca o  mixta pueden volverse una piel sensible.</span>`;
    }else if(num >= 3301 && num <= 3400){
        msjPrev.innerHTML = `<h2>Tu tipo de piel es: <h2/> `
        output.innerHTML = `<h1>${mensajes.grasa.texto} <h1/>` 
        description.innerHTML = `<span>La piel grasa se caracteriza por tener una apariencia brillosa, mayor 
            produccion de sebo, presencia de comedones, poros dilatados y puede favorecer la aparicion de acne.
            Las pieles sensibles o reactivas , reaccionan distinto a una piel normal , suelen ser más propensas a la inflamación y pueden presentar ardor , 
            enrojecimiento, picazón, tirantez entre otros, 
            las causas de la inflamación depende de cada persona ;  cualquier tipo de piel ya sea grasa ,seca o  mixta pueden volverse una piel sensible</span>`;
    }else {
        output.innerHTML = `${mensajes.valorNoPosible.texto}`;
    }   
}
//--------------------------------------//
</script>

